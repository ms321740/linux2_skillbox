<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    ServerName webhost.local
    DocumentRoot /var/www
 
    <Directory /var/www/>   
        AllowOverride All
        Options FollowSymlinks
        Order allow,deny
        Allow from all
        
        AuthType Basic
        AuthName "Restricted Content"
        AuthUserFile /etc/apache2/.htpasswd
        Require valid-user
        
        #включаем модуль RewriteEngine
        #при авторизации и совпадении имени удаленного пользователя с "Wordpress"
        #выполняем редирект в каталог "wordpress" с завершением цикла обработки правил
        RewriteEngine On
        RewriteCond %{LA-U:REMOTE_USER} =Wordpress
        RewriteRule "^/?$" /wordpress [R=301,L]
 
        #при авторизации и совпадении имени удаленного пользователя с "Drupal"
        #выполняем редирект в каталог "drupal" с завершением цикла обработки правил
        RewriteCond %{LA-U:REMOTE_USER} =Drupal
        RewriteRule "^/?$" /drupal [R=301,L]    
 
    </Directory>
 
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
